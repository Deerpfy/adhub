<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ClipForge - Offline video editor. Stříhej videa přímo v prohlížeči bez připojení k internetu.">
    <meta name="theme-color" content="#8b5cf6">

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/svg+xml" href="assets/icon.svg">
    <link rel="apple-touch-icon" href="assets/icon-192.png">

    <!-- Preload critical resources -->
    <link rel="preload" href="css/editor.css" as="style">
    <link rel="preload" href="js/app.js" as="script">

    <title>ClipForge - Offline Video Editor</title>

    <!-- Styles -->
    <link rel="stylesheet" href="css/editor.css">
</head>
<body>
    <!-- SVG Icon Sprite -->
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <!-- Logo / Clapperboard -->
        <symbol id="icon-logo" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 11v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/>
            <path d="M4 11V7a2 2 0 0 1 2-2h3l2-2h6l2 2h3a2 2 0 0 1 2 2v4"/>
            <line x1="4" y1="11" x2="20" y2="11"/>
            <line x1="8" y1="5" x2="6" y2="11"/>
            <line x1="14" y1="5" x2="12" y2="11"/>
        </symbol>
        <!-- File / New -->
        <symbol id="icon-file" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
            <polyline points="14 2 14 8 20 8"/>
            <line x1="12" y1="18" x2="12" y2="12"/>
            <line x1="9" y1="15" x2="15" y2="15"/>
        </symbol>
        <!-- Folder / Open -->
        <symbol id="icon-folder" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
        </symbol>
        <!-- Save -->
        <symbol id="icon-save" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
            <polyline points="17 21 17 13 7 13 7 21"/>
            <polyline points="7 3 7 8 15 8"/>
        </symbol>
        <!-- Export / Upload -->
        <symbol id="icon-export" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
            <polyline points="17 8 12 3 7 8"/>
            <line x1="12" y1="3" x2="12" y2="15"/>
        </symbol>
        <!-- Video -->
        <symbol id="icon-video" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="2" y="4" width="20" height="16" rx="2"/>
            <path d="M10 9l5 3-5 3V9z"/>
        </symbol>
        <!-- Text -->
        <symbol id="icon-text" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="4 7 4 4 20 4 20 7"/>
            <line x1="9" y1="20" x2="15" y2="20"/>
            <line x1="12" y1="4" x2="12" y2="20"/>
        </symbol>
        <!-- Audio / Music -->
        <symbol id="icon-audio" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 18V5l12-2v13"/>
            <circle cx="6" cy="18" r="3"/>
            <circle cx="18" cy="16" r="3"/>
        </symbol>
        <!-- Filters / Palette -->
        <symbol id="icon-filters" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="13.5" cy="6.5" r="0.5" fill="currentColor"/>
            <circle cx="17.5" cy="10.5" r="0.5" fill="currentColor"/>
            <circle cx="8.5" cy="7.5" r="0.5" fill="currentColor"/>
            <circle cx="6.5" cy="12.5" r="0.5" fill="currentColor"/>
            <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.555C21.965 6.012 17.461 2 12 2z"/>
        </symbol>
        <!-- Templates / Layout -->
        <symbol id="icon-templates" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="7" height="7"/>
            <rect x="14" y="3" width="7" height="7"/>
            <rect x="14" y="14" width="7" height="7"/>
            <rect x="3" y="14" width="7" height="7"/>
        </symbol>
        <!-- Upload / Import -->
        <symbol id="icon-upload" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
            <polyline points="17 8 12 3 7 8"/>
            <line x1="12" y1="3" x2="12" y2="15"/>
        </symbol>
        <!-- Play -->
        <symbol id="icon-play" viewBox="0 0 24 24" fill="currentColor" stroke="none">
            <polygon points="5 3 19 12 5 21 5 3"/>
        </symbol>
        <!-- Pause -->
        <symbol id="icon-pause" viewBox="0 0 24 24" fill="currentColor" stroke="none">
            <rect x="6" y="4" width="4" height="16"/>
            <rect x="14" y="4" width="4" height="16"/>
        </symbol>
        <!-- Skip Back -->
        <symbol id="icon-skip-back" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="19 20 9 12 19 4 19 20" fill="currentColor"/>
            <line x1="5" y1="19" x2="5" y2="5"/>
        </symbol>
        <!-- Skip Forward -->
        <symbol id="icon-skip-forward" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="5 4 15 12 5 20 5 4" fill="currentColor"/>
            <line x1="19" y1="5" x2="19" y2="19"/>
        </symbol>
        <!-- Fullscreen -->
        <symbol id="icon-fullscreen" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M8 3H5a2 2 0 0 0-2 2v3"/>
            <path d="M21 8V5a2 2 0 0 0-2-2h-3"/>
            <path d="M3 16v3a2 2 0 0 0 2 2h3"/>
            <path d="M16 21h3a2 2 0 0 0 2-2v-3"/>
        </symbol>
        <!-- Scissors / Split -->
        <symbol id="icon-scissors" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="6" cy="6" r="3"/>
            <circle cx="6" cy="18" r="3"/>
            <line x1="20" y1="4" x2="8.12" y2="15.88"/>
            <line x1="14.47" y1="14.48" x2="20" y2="20"/>
            <line x1="8.12" y1="8.12" x2="12" y2="12"/>
        </symbol>
        <!-- Trash / Delete -->
        <symbol id="icon-trash" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="3 6 5 6 21 6"/>
            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
            <line x1="10" y1="11" x2="10" y2="17"/>
            <line x1="14" y1="11" x2="14" y2="17"/>
        </symbol>
        <!-- Undo -->
        <symbol id="icon-undo" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M3 7v6h6"/>
            <path d="M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"/>
        </symbol>
        <!-- Redo -->
        <symbol id="icon-redo" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 7v6h-6"/>
            <path d="M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"/>
        </symbol>
        <!-- Plus / Add -->
        <symbol id="icon-plus" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="12" y1="5" x2="12" y2="19"/>
            <line x1="5" y1="12" x2="19" y2="12"/>
        </symbol>
        <!-- Volume / Speaker -->
        <symbol id="icon-volume" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
            <path d="M15.54 8.46a5 5 0 0 1 0 7.07"/>
            <path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
        </symbol>
        <!-- Volume Muted -->
        <symbol id="icon-volume-muted" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
            <line x1="22" y1="9" x2="16" y2="15"/>
            <line x1="16" y1="9" x2="22" y2="15"/>
        </symbol>
        <!-- Unlock -->
        <symbol id="icon-unlock" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
            <path d="M7 11V7a5 5 0 0 1 9.9-1"/>
        </symbol>
        <!-- Lock -->
        <symbol id="icon-lock" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
            <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
        </symbol>
        <!-- Eye / Visible -->
        <symbol id="icon-eye" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
            <circle cx="12" cy="12" r="3"/>
        </symbol>
        <!-- Film -->
        <symbol id="icon-film" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"/>
            <line x1="7" y1="2" x2="7" y2="22"/>
            <line x1="17" y1="2" x2="17" y2="22"/>
            <line x1="2" y1="12" x2="22" y2="12"/>
            <line x1="2" y1="7" x2="7" y2="7"/>
            <line x1="2" y1="17" x2="7" y2="17"/>
            <line x1="17" y1="17" x2="22" y2="17"/>
            <line x1="17" y1="7" x2="22" y2="7"/>
        </symbol>
        <!-- Image -->
        <symbol id="icon-image" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
            <circle cx="8.5" cy="8.5" r="1.5"/>
            <polyline points="21 15 16 10 5 21"/>
        </symbol>
        <!-- Offline -->
        <symbol id="icon-offline" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="1" y1="1" x2="23" y2="23"/>
            <path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"/>
            <path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"/>
            <path d="M10.71 5.05A16 16 0 0 1 22.58 9"/>
            <path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"/>
            <path d="M8.53 16.11a6 6 0 0 1 6.95 0"/>
            <line x1="12" y1="20" x2="12.01" y2="20"/>
        </symbol>
        <!-- Close / X -->
        <symbol id="icon-close" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
        </symbol>
        <!-- Minus -->
        <symbol id="icon-minus" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="5" y1="12" x2="19" y2="12"/>
        </symbol>
    </svg>

    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-logo">
                <svg class="loading-icon"><use href="#icon-logo"/></svg>
                <span class="loading-title">ClipForge</span>
            </div>
            <div class="loading-progress">
                <div class="loading-bar"></div>
            </div>
            <p class="loading-text">Načítání editoru...</p>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="app" class="app-container" style="display: none;">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <div class="logo">
                    <svg class="logo-icon"><use href="#icon-logo"/></svg>
                    <span class="logo-text">ClipForge</span>
                </div>
                <span class="version-badge">v1.0 OFFLINE</span>
            </div>

            <div class="header-center">
                <input type="text" id="project-name-input" class="project-name-input" value="Nový projekt" spellcheck="false">
            </div>

            <div class="header-right">
                <button id="btn-new-project" class="btn btn-ghost" title="Nový projekt">
                    <svg class="btn-icon"><use href="#icon-file"/></svg>
                    <span class="btn-text">Nový</span>
                </button>
                <button id="btn-open-project" class="btn btn-ghost" title="Otevřít projekt">
                    <svg class="btn-icon"><use href="#icon-folder"/></svg>
                    <span class="btn-text">Otevřít</span>
                </button>
                <button id="btn-save-project" class="btn btn-ghost" title="Uložit projekt">
                    <svg class="btn-icon"><use href="#icon-save"/></svg>
                    <span class="btn-text">Uložit</span>
                </button>
                <button id="btn-export" class="btn btn-primary" title="Exportovat video">
                    <svg class="btn-icon"><use href="#icon-export"/></svg>
                    <span class="btn-text">Export</span>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="app-main">
            <!-- Sidebar - Media Library -->
            <aside class="sidebar" id="sidebar">
                <div class="sidebar-tabs">
                    <button class="sidebar-tab active" data-tab="media">
                        <svg class="tab-icon"><use href="#icon-video"/></svg>
                        <span>Média</span>
                    </button>
                    <button class="sidebar-tab" data-tab="text">
                        <svg class="tab-icon"><use href="#icon-text"/></svg>
                        <span>Text</span>
                    </button>
                    <button class="sidebar-tab" data-tab="audio">
                        <svg class="tab-icon"><use href="#icon-audio"/></svg>
                        <span>Audio</span>
                    </button>
                    <button class="sidebar-tab" data-tab="filters">
                        <svg class="tab-icon"><use href="#icon-filters"/></svg>
                        <span>Filtry</span>
                    </button>
                    <button class="sidebar-tab" data-tab="templates">
                        <svg class="tab-icon"><use href="#icon-templates"/></svg>
                        <span>Šablony</span>
                    </button>
                </div>

                <!-- Media Tab -->
                <div class="sidebar-content active" data-content="media">
                    <div class="media-upload-zone" id="media-upload-zone">
                        <svg class="upload-icon"><use href="#icon-upload"/></svg>
                        <p class="upload-text">Přetáhni média sem</p>
                        <p class="upload-subtext">nebo klikni pro výběr</p>
                        <p class="upload-formats">MP4, WebM, MOV, JPG, PNG, GIF, MP3, WAV</p>
                        <input type="file" id="media-input" multiple accept="video/*,audio/*,image/*" hidden>
                    </div>
                    <div class="media-library" id="media-library">
                        <!-- Media items will be dynamically added -->
                    </div>
                </div>

                <!-- Text Tab -->
                <div class="sidebar-content" data-content="text">
                    <div class="text-templates">
                        <button class="text-template-btn" data-style="title">
                            <span class="template-preview title">Nadpis</span>
                        </button>
                        <button class="text-template-btn" data-style="subtitle">
                            <span class="template-preview subtitle">Podnadpis</span>
                        </button>
                        <button class="text-template-btn" data-style="caption">
                            <span class="template-preview caption">Titulky</span>
                        </button>
                        <button class="text-template-btn" data-style="lower-third">
                            <span class="template-preview lower-third">Dolní třetina</span>
                        </button>
                    </div>
                    <div class="text-editor-panel" id="text-editor-panel" style="display: none;">
                        <h4>Upravit text</h4>
                        <textarea id="text-content" placeholder="Zadej text..."></textarea>
                        <div class="text-options">
                            <label>
                                Font:
                                <select id="text-font">
                                    <option value="Inter">Inter</option>
                                    <option value="Arial">Arial</option>
                                    <option value="Georgia">Georgia</option>
                                    <option value="Courier New">Courier</option>
                                </select>
                            </label>
                            <label>
                                Velikost:
                                <input type="range" id="text-size" min="12" max="120" value="48">
                                <span id="text-size-value">48px</span>
                            </label>
                            <label>
                                Barva:
                                <input type="color" id="text-color" value="#ffffff">
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Audio Tab -->
                <div class="sidebar-content" data-content="audio">
                    <div class="audio-controls">
                        <h4>Hlasitost</h4>
                        <label class="audio-slider">
                            <span>Master:</span>
                            <input type="range" id="master-volume" min="0" max="100" value="100">
                            <span id="master-volume-value">100%</span>
                        </label>
                    </div>
                    <div class="audio-effects">
                        <h4>Audio efekty</h4>
                        <button class="audio-effect-btn" data-effect="fade-in">
                            <svg class="effect-icon"><use href="#icon-volume"/></svg>
                            Fade In
                        </button>
                        <button class="audio-effect-btn" data-effect="fade-out">
                            <svg class="effect-icon"><use href="#icon-volume"/></svg>
                            Fade Out
                        </button>
                        <button class="audio-effect-btn" data-effect="mute">
                            <svg class="effect-icon"><use href="#icon-volume-muted"/></svg>
                            Ztlumit
                        </button>
                    </div>
                </div>

                <!-- Filters Tab -->
                <div class="sidebar-content" data-content="filters">
                    <div class="filters-grid">
                        <button class="filter-btn" data-filter="none">
                            <span class="filter-preview none"></span>
                            <span>Žádný</span>
                        </button>
                        <button class="filter-btn" data-filter="grayscale">
                            <span class="filter-preview grayscale"></span>
                            <span>Černobílý</span>
                        </button>
                        <button class="filter-btn" data-filter="sepia">
                            <span class="filter-preview sepia"></span>
                            <span>Sépia</span>
                        </button>
                        <button class="filter-btn" data-filter="vintage">
                            <span class="filter-preview vintage"></span>
                            <span>Vintage</span>
                        </button>
                        <button class="filter-btn" data-filter="warm">
                            <span class="filter-preview warm"></span>
                            <span>Teplý</span>
                        </button>
                        <button class="filter-btn" data-filter="cool">
                            <span class="filter-preview cool"></span>
                            <span>Studený</span>
                        </button>
                        <button class="filter-btn" data-filter="bright">
                            <span class="filter-preview bright"></span>
                            <span>Světlý</span>
                        </button>
                        <button class="filter-btn" data-filter="contrast">
                            <span class="filter-preview contrast"></span>
                            <span>Kontrast</span>
                        </button>
                    </div>
                    <div class="color-adjustments">
                        <h4>Úpravy barev</h4>
                        <label>
                            Jas:
                            <input type="range" id="brightness" min="0" max="200" value="100">
                        </label>
                        <label>
                            Kontrast:
                            <input type="range" id="contrast" min="0" max="200" value="100">
                        </label>
                        <label>
                            Saturace:
                            <input type="range" id="saturation" min="0" max="200" value="100">
                        </label>
                    </div>
                </div>

                <!-- Templates Tab -->
                <div class="sidebar-content" data-content="templates">
                    <div class="templates-grid">
                        <div class="template-card" data-template="tiktok">
                            <div class="template-thumb aspect-9-16"></div>
                            <span>TikTok/Reels</span>
                            <small>9:16</small>
                        </div>
                        <div class="template-card" data-template="youtube">
                            <div class="template-thumb aspect-16-9"></div>
                            <span>YouTube</span>
                            <small>16:9</small>
                        </div>
                        <div class="template-card" data-template="instagram">
                            <div class="template-thumb aspect-1-1"></div>
                            <span>Instagram</span>
                            <small>1:1</small>
                        </div>
                        <div class="template-card" data-template="story">
                            <div class="template-thumb aspect-9-16"></div>
                            <span>Story</span>
                            <small>9:16</small>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Preview Area -->
            <section class="preview-area">
                <div class="preview-container" id="preview-container">
                    <canvas id="preview-canvas"></canvas>
                    <video id="preview-video" style="display: none;"></video>
                </div>

                <!-- Playback Controls -->
                <div class="playback-controls">
                    <button id="btn-skip-back" class="control-btn" title="Zpět o 5s">
                        <svg class="control-icon"><use href="#icon-skip-back"/></svg>
                    </button>
                    <button id="btn-play-pause" class="control-btn play-btn" title="Přehrát/Pozastavit">
                        <svg class="control-icon" id="play-icon"><use href="#icon-play"/></svg>
                    </button>
                    <button id="btn-skip-forward" class="control-btn" title="Vpřed o 5s">
                        <svg class="control-icon"><use href="#icon-skip-forward"/></svg>
                    </button>
                    <div class="time-display">
                        <span id="current-time">00:00:00</span>
                        <span>/</span>
                        <span id="total-time">00:00:00</span>
                    </div>
                    <div class="playback-speed">
                        <select id="playback-speed">
                            <option value="0.25">0.25x</option>
                            <option value="0.5">0.5x</option>
                            <option value="1" selected>1x</option>
                            <option value="1.5">1.5x</option>
                            <option value="2">2x</option>
                        </select>
                    </div>
                    <button id="btn-fullscreen" class="control-btn" title="Celá obrazovka">
                        <svg class="control-icon"><use href="#icon-fullscreen"/></svg>
                    </button>
                </div>
            </section>

            <!-- Properties Panel -->
            <aside class="properties-panel" id="properties-panel">
                <div class="panel-header">
                    <h3>Vlastnosti</h3>
                    <button id="btn-close-properties" class="btn-close">
                        <svg class="close-icon"><use href="#icon-close"/></svg>
                    </button>
                </div>
                <div class="panel-content" id="properties-content">
                    <p class="no-selection">Vyber klip pro úpravy</p>
                </div>
            </aside>
        </main>

        <!-- Timeline -->
        <footer class="timeline-container">
            <!-- Timeline Toolbar -->
            <div class="timeline-toolbar">
                <div class="toolbar-left">
                    <button id="btn-split" class="toolbar-btn" title="Rozdělit klip (S)">
                        <svg class="toolbar-icon"><use href="#icon-scissors"/></svg>
                    </button>
                    <button id="btn-delete" class="toolbar-btn" title="Smazat (Del)">
                        <svg class="toolbar-icon"><use href="#icon-trash"/></svg>
                    </button>
                    <button id="btn-undo" class="toolbar-btn" title="Zpět (Ctrl+Z)">
                        <svg class="toolbar-icon"><use href="#icon-undo"/></svg>
                    </button>
                    <button id="btn-redo" class="toolbar-btn" title="Vpřed (Ctrl+Y)">
                        <svg class="toolbar-icon"><use href="#icon-redo"/></svg>
                    </button>
                </div>
                <div class="toolbar-center">
                    <div class="zoom-control">
                        <button id="btn-zoom-out" class="toolbar-btn" title="Oddálit">
                            <svg class="toolbar-icon"><use href="#icon-minus"/></svg>
                        </button>
                        <input type="range" id="timeline-zoom" min="10" max="200" value="100">
                        <button id="btn-zoom-in" class="toolbar-btn" title="Přiblížit">
                            <svg class="toolbar-icon"><use href="#icon-plus"/></svg>
                        </button>
                    </div>
                </div>
                <div class="toolbar-right">
                    <button id="btn-add-track" class="toolbar-btn" title="Přidat stopu">
                        <svg class="toolbar-icon"><use href="#icon-plus"/></svg>
                        <span>Stopa</span>
                    </button>
                </div>
            </div>

            <!-- Timeline Ruler -->
            <div class="timeline-ruler" id="timeline-ruler">
                <!-- Time markers will be generated dynamically -->
            </div>

            <!-- Timeline Tracks -->
            <div class="timeline-scroll" id="timeline-scroll">
                <div class="timeline-tracks" id="timeline-tracks">
                    <!-- Track: Video 1 -->
                    <div class="timeline-track" data-track="video-1" data-type="video">
                        <div class="track-header">
                            <svg class="track-icon"><use href="#icon-film"/></svg>
                            <span class="track-name">Video 1</span>
                            <button class="track-btn track-mute" title="Ztlumit">
                                <svg class="track-btn-icon"><use href="#icon-volume"/></svg>
                            </button>
                            <button class="track-btn track-lock" title="Zamknout">
                                <svg class="track-btn-icon"><use href="#icon-unlock"/></svg>
                            </button>
                        </div>
                        <div class="track-clips" data-track-id="video-1">
                            <!-- Clips will be added dynamically -->
                        </div>
                    </div>

                    <!-- Track: Audio 1 -->
                    <div class="timeline-track" data-track="audio-1" data-type="audio">
                        <div class="track-header">
                            <svg class="track-icon"><use href="#icon-audio"/></svg>
                            <span class="track-name">Audio 1</span>
                            <button class="track-btn track-mute" title="Ztlumit">
                                <svg class="track-btn-icon"><use href="#icon-volume"/></svg>
                            </button>
                            <button class="track-btn track-lock" title="Zamknout">
                                <svg class="track-btn-icon"><use href="#icon-unlock"/></svg>
                            </button>
                        </div>
                        <div class="track-clips" data-track-id="audio-1">
                            <!-- Clips will be added dynamically -->
                        </div>
                    </div>

                    <!-- Track: Text -->
                    <div class="timeline-track" data-track="text-1" data-type="text">
                        <div class="track-header">
                            <svg class="track-icon"><use href="#icon-text"/></svg>
                            <span class="track-name">Text</span>
                            <button class="track-btn track-visible" title="Skrýt">
                                <svg class="track-btn-icon"><use href="#icon-eye"/></svg>
                            </button>
                            <button class="track-btn track-lock" title="Zamknout">
                                <svg class="track-btn-icon"><use href="#icon-unlock"/></svg>
                            </button>
                        </div>
                        <div class="track-clips" data-track-id="text-1">
                            <!-- Clips will be added dynamically -->
                        </div>
                    </div>
                </div>

                <!-- Playhead -->
                <div class="playhead" id="playhead">
                    <div class="playhead-head"></div>
                    <div class="playhead-line"></div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Export Modal -->
    <div class="modal-overlay" id="export-modal">
        <div class="modal-content export-modal">
            <div class="modal-header">
                <h2>Exportovat video</h2>
                <button class="modal-close" id="close-export-modal">
                    <svg class="close-icon"><use href="#icon-close"/></svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="export-options">
                    <div class="export-option">
                        <label>Formát:</label>
                        <select id="export-format">
                            <option value="mp4">MP4 (H.264)</option>
                            <option value="webm">WebM (VP9)</option>
                            <option value="gif">GIF (animovaný)</option>
                        </select>
                    </div>
                    <div class="export-option">
                        <label>Rozlišení:</label>
                        <select id="export-resolution">
                            <option value="1080">1080p (Full HD)</option>
                            <option value="720">720p (HD)</option>
                            <option value="480">480p (SD)</option>
                            <option value="original">Původní</option>
                        </select>
                    </div>
                    <div class="export-option">
                        <label>Kvalita:</label>
                        <select id="export-quality">
                            <option value="high">Vysoká</option>
                            <option value="medium" selected>Střední</option>
                            <option value="low">Nízká</option>
                        </select>
                    </div>
                    <div class="export-option">
                        <label>FPS:</label>
                        <select id="export-fps">
                            <option value="60">60 fps</option>
                            <option value="30" selected>30 fps</option>
                            <option value="24">24 fps</option>
                        </select>
                    </div>
                </div>
                <div class="export-progress" id="export-progress" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill" id="export-progress-fill"></div>
                    </div>
                    <p class="progress-text" id="export-progress-text">Exportuji...</p>
                </div>
                <div class="export-actions">
                    <button class="btn btn-ghost" id="btn-cancel-export">Zrušit</button>
                    <button class="btn btn-primary" id="btn-start-export">
                        <svg class="btn-icon"><use href="#icon-export"/></svg>
                        Exportovat
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Projects Modal -->
    <div class="modal-overlay" id="projects-modal">
        <div class="modal-content projects-modal">
            <div class="modal-header">
                <h2>Moje projekty</h2>
                <button class="modal-close" id="close-projects-modal">
                    <svg class="close-icon"><use href="#icon-close"/></svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="projects-list" id="projects-list">
                    <!-- Projects will be dynamically loaded -->
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Offline Indicator -->
    <div class="offline-indicator" id="offline-indicator">
        <svg class="offline-icon"><use href="#icon-offline"/></svg>
        <span>Offline režim</span>
    </div>

    <!-- Scripts -->
    <script src="js/db.js"></script>
    <script src="js/timeline.js"></script>
    <script src="js/preview.js"></script>
    <script src="js/export.js"></script>
    <script src="js/app.js"></script>

    <!-- Service Worker is registered by app.js -->
</body>
</html>
