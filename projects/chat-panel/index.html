<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AdHub Multistream Chat v2</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <h1 class="app-title">
                    <span class="logo-icon">üí¨</span>
                    Multistream Chat
                    <span class="version-badge">v2</span>
                </h1>
            </div>
            <div class="header-center">
                <div class="connection-status" id="connectionStatus">
                    <span class="status-dot"></span>
                    <span class="status-text">Nep≈ôipojeno</span>
                </div>
            </div>
            <div class="header-right">
                <button class="btn btn-icon" id="settingsBtn" title="Nastaven√≠">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                    </svg>
                </button>
                <button class="btn btn-icon" id="themeToggle" title="P≈ôepnout t√©ma">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Sidebar - Channel List -->
            <aside class="sidebar" id="sidebar">
                <div class="sidebar-header">
                    <h2>Kan√°ly</h2>
                    <button class="btn btn-primary btn-sm" id="addChannelBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        P≈ôidat
                    </button>
                </div>
                <div class="channel-list" id="channelList">
                    <!-- Channels will be added here dynamically -->
                    <div class="channel-empty-state">
                        <p>Zat√≠m nem√°te ≈æ√°dn√© kan√°ly.</p>
                        <p class="hint">Kliknƒõte na "P≈ôidat" pro p≈ôipojen√≠ k chatu.</p>
                    </div>
                </div>
            </aside>

            <!-- Chat Area -->
            <section class="chat-area">
                <div class="chat-container" id="chatContainer">
                    <!-- Chat messages will be rendered here -->
                    <div class="chat-welcome">
                        <div class="welcome-icon">üéÆ</div>
                        <h2>V√≠tejte v Multistream Chat v2</h2>
                        <p>P≈ôidejte kan√°ly z Twitch, Kick nebo YouTube pro zobrazen√≠ chatu.</p>
                        <div class="platform-badges">
                            <span class="platform-badge twitch">Twitch</span>
                            <span class="platform-badge kick">Kick</span>
                            <span class="platform-badge youtube">YouTube</span>
                        </div>
                        <p class="note">Tato verze funguje kompletnƒõ v prohl√≠≈æeƒçi - ≈æ√°dn√Ω server nen√≠ pot≈ôeba!</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Add Channel Modal -->
    <div class="modal-overlay" id="addChannelModal">
        <div class="modal">
            <div class="modal-header">
                <h3>P≈ôidat kan√°l</h3>
                <button class="btn btn-icon modal-close" id="closeAddModal">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="platform-selector">
                    <button class="platform-btn twitch active" data-platform="twitch">
                        <svg class="platform-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"/>
                        </svg>
                        Twitch
                    </button>
                    <button class="platform-btn kick" data-platform="kick">
                        <svg class="platform-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm2.5 16.5l-3-3-3 3H6l4.5-4.5L6 7.5h2.5l3 3 3-3H17l-4.5 4.5L17 16.5h-2.5z"/>
                        </svg>
                        Kick
                    </button>
                    <button class="platform-btn youtube" data-platform="youtube">
                        <svg class="platform-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                        </svg>
                        YouTube
                    </button>
                </div>

                <!-- Twitch Form -->
                <form class="platform-form" id="twitchForm">
                    <div class="form-group">
                        <label for="twitchChannel">N√°zev kan√°lu</label>
                        <input type="text" id="twitchChannel" placeholder="nap≈ô. gamezense" autocomplete="off">
                        <span class="input-hint">Zadejte jm√©no Twitch kan√°lu bez URL</span>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block">P≈ôipojit k chatu</button>
                </form>

                <!-- Kick Form -->
                <form class="platform-form hidden" id="kickForm">
                    <div class="form-group">
                        <label for="kickChannel">N√°zev kan√°lu nebo chatroom ID</label>
                        <input type="text" id="kickChannel" placeholder="nap≈ô. trainwreckstv nebo xqc:668" autocomplete="off">
                        <span class="input-hint">
                            Zn√°m√© kan√°ly: xqc, trainwreckstv, adinross, stake, roshtein, nickmercs...<br>
                            Pro ostatn√≠ zadejte: <strong>n√°zev:chatroomID</strong> (nap≈ô. streamer:12345)
                        </span>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block">P≈ôipojit k chatu</button>
                </form>

                <!-- YouTube Form -->
                <form class="platform-form hidden" id="youtubeForm">
                    <!-- Mode selector -->
                    <div class="youtube-mode-selector">
                        <button type="button" class="youtube-mode-btn active" data-mode="iframe">
                            <span class="mode-icon">üì∫</span>
                            <span class="mode-name">Iframe</span>
                            <span class="mode-hint">Bez API kl√≠ƒçe</span>
                        </button>
                        <button type="button" class="youtube-mode-btn" data-mode="api">
                            <span class="mode-icon">üîå</span>
                            <span class="mode-name">API</span>
                            <span class="mode-hint">Vy≈æaduje kl√≠ƒç</span>
                        </button>
                    </div>

                    <!-- Iframe mode fields -->
                    <div class="youtube-mode-fields" id="youtubeIframeFields">
                        <div class="form-group">
                            <label for="youtubeChannel">Kan√°l nebo Video ID</label>
                            <input type="text" id="youtubeChannel" placeholder="nap≈ô. @MrBeast, UC..., nebo video ID" autocomplete="off">
                            <span class="input-hint">
                                Zadejte: @handle, channel ID (UC...), video ID, nebo celou URL<br>
                                <strong>Pozor:</strong> Iframe zobraz√≠ chat v samostatn√©m panelu
                            </span>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block" data-mode="iframe">Zobrazit chat (iframe)</button>
                    </div>

                    <!-- API mode fields -->
                    <div class="youtube-mode-fields hidden" id="youtubeApiFields">
                        <div class="form-group">
                            <label for="youtubeVideoId">Video/Stream ID</label>
                            <input type="text" id="youtubeVideoId" placeholder="nap≈ô. dQw4w9WgXcQ" autocomplete="off">
                            <span class="input-hint">ID videa z URL: youtube.com/watch?v=<strong>ID</strong></span>
                        </div>
                        <div class="form-group">
                            <label for="youtubeApiKey">YouTube API kl√≠ƒç</label>
                            <input type="password" id="youtubeApiKey" placeholder="AIza..." autocomplete="off">
                            <span class="input-hint">
                                <a href="https://console.cloud.google.com/apis/credentials" target="_blank" rel="noopener">Z√≠skat API kl√≠ƒç</a>
                                - kl√≠ƒç je ulo≈æen pouze lok√°lnƒõ
                            </span>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block" data-mode="api">P≈ôipojit k chatu (API)</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal-overlay" id="settingsModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Nastaven√≠</h3>
                <button class="btn btn-icon modal-close" id="closeSettingsModal">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h4>Zobrazen√≠</h4>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="showTimestamps" checked>
                            Zobrazit ƒçasov√© znaƒçky
                        </label>
                    </div>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="showPlatformBadges" checked>
                            Zobrazit badge platformy
                        </label>
                    </div>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="showEmotes" checked>
                            Zobrazit emotes
                        </label>
                    </div>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="compactMode">
                            Kompaktn√≠ re≈æim
                        </label>
                    </div>
                </div>
                <div class="settings-section">
                    <h4>Chat</h4>
                    <div class="setting-item">
                        <label for="maxMessages">Max. poƒçet zpr√°v</label>
                        <input type="number" id="maxMessages" value="500" min="100" max="2000">
                    </div>
                    <div class="setting-item">
                        <label for="fontSize">Velikost p√≠sma</label>
                        <select id="fontSize">
                            <option value="12">Mal√© (12px)</option>
                            <option value="14" selected>St≈ôedn√≠ (14px)</option>
                            <option value="16">Velk√© (16px)</option>
                            <option value="18">Extra velk√© (18px)</option>
                        </select>
                    </div>
                </div>
                <div class="settings-section">
                    <h4>Data</h4>
                    <button class="btn btn-secondary" id="exportSettings">Exportovat nastaven√≠</button>
                    <button class="btn btn-secondary" id="importSettings">Importovat nastaven√≠</button>
                    <button class="btn btn-danger" id="clearAllData">Vymazat v≈°echna data</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Scripts -->
    <script src="adapters/base-adapter.js"></script>
    <script src="adapters/twitch-adapter.js"></script>
    <script src="adapters/kick-adapter.js"></script>
    <script src="adapters/youtube-adapter.js"></script>
    <script src="adapters/youtube-iframe-adapter.js"></script>
    <script src="script.js"></script>
</body>
</html>
